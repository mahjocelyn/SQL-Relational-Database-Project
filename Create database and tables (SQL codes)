-- Create a database
CREATE DATABASE jmah_project

USE jmah_project

--Create 11 tables without Foreign Keys

CREATE TABLE tblGENDER
(GenderID INTEGER IDENTITY(1,1) primary key,
Gender VARCHAR (10)NOT NULL)

CREATE TABLE tblDEPARTMENT
(DepartmentID INTEGER IDENTITY(1,1) primary key, 
DepartmentName VARCHAR (50) NOT NULL,
DepartmentDescr VARCHAR (255) NULL)

CREATE TABLE tblPOSITION_TYPE(
PositionTypeID INTEGER IDENTITY(1,1) primary key,
PositionTypeName VARCHAR (30) NOT NULL,
PositionTypeDescr VARCHAR(255)NULL)

CREATE TABLE tblLOCATION
(LocationID INTEGER IDENTITY(1,1) primary key,
LocationName VARCHAR (50) NOT NULL,
LocationDescr VARCHAR (255) NULL)

CREATE TABLE tblCUSTOMER
(CustomerID INTEGER IDENTITY(1,1) primary key,
CustomerFName Varchar(20) NOT NULL,
CustomerLName Varchar(20) NOT NULL,
CustomerEmail Varchar(40) NOT NULL,
CustomerDoB Date NOT NULL)

CREATE TABLE tblPRODUCT_CATEGORY
(ProductCategoryID INTEGER IDENTITY(1,1) primary key,
ProductCategoryName Varchar(30) NOT NULL,
ProductCategoryDescr Varchar(255) NULL)

CREATE TABLE tblCOLOR
(ColorID INTEGER IDENTITY (1,1) primary key,
ColorName varchar(20) NOT NULL)

CREATE TABLE tblSIZE
(SizeID INTEGER IDENTITY (1,1) primary key,
SizeName varchar(20) NOT NULL,
SizeDescr varchar (255) NULL)

CREATE TABLE tblSUPPLIER
(SupplierID INTEGER IDENTITY (1,1) primary key,
CompanyName VARCHAR(40) NOT NULL,
SupplierCity VARCHAR(50) NOT NULL,
SupplierState VARCHAR(50) NOT NULL,
SupplierZipCode VARCHAR(10) NOT NULL)
 
CREATE TABLE tblPHONE_TYPE
(PhoneTypeID INTEGER IDENTITY (1,1) primary key,
PhoneName VARCHAR(20) NOT NULL,
PhoneDescr VARCHAR(255) NULL)
 
CREATE TABLE tblROLE
(RoleID INTEGER IDENTITY (1,1) primary key,
RoleName VARCHAR(40) NOT NULL,
RoleDescr VARCHAR(255) NULL)

-- Create 16 transactinoal tables that contain foreign keys

CREATE TABLE tblEMPLOYEE(
EmployeeID INTEGER IDENTITY(1,1) primary key,
EmployeeFName VARCHAR(20) NOT NULL,
EmployeeLName VARCHAR(20) NOT NULL,
EmployeeCity VARCHAR(50) NOT NULL,
EmployeeState VARCHAR(50) NOT NULL,
EmployeeZipCode VARCHAR(10) NOT NULL,
DateOfBirth Date NOT NULL,
HiredDate Date NOT NULL,
GenderID INTEGER FOREIGN KEY REFERENCES tblGENDER(GenderID) NOT NULL)

CREATE TABLE tblBRANCHES(
BranchID INTEGER IDENTITY(1,1) primary key,
BranchCity VARCHAR(50) NOT NULL,
BranchState VARCHAR(50) NOT NULL,
BranchZipCode INT NOT NULL,
LocationID INTEGER FOREIGN KEY REFERENCES tblLOCATION(LocationID) NOT NULL)

CREATE TABLE tblPOSITION(
PositionID INTEGER IDENTITY(1,1) primary key,
PositionName VARCHAR (30) NOT NULL,
PositionDescr VARCHAR(255) NULL,
PositionTypeID INT FOREIGN KEY REFERENCES tblPOSITION_TYPE(PositionTypeID) NOT NULL)

CREATE TABLE tblJOB(
JobID INTEGER IDENTITY(1,1) primary key,
BeginDate DATE NOT NULL,
EndDate DATE NULL,
Salaries NUMERIC (9, 2) NOT NULL,
EmployeeID INT FOREIGN KEY REFERENCES tblEMPLOYEE(EmployeeID) NOT NULL,
PositionID INT FOREIGN KEY REFERENCES tblPOSITION(PositionID) NOT NULL,
BranchID INT FOREIGN KEY REFERENCES tblBRANCHES(BranchID) NOT NULL,
DepartmentID INT FOREIGN KEY REFERENCES tblDEPARTMENT(DepartmentID) NOT NULL)

CREATE TABLE tblPRODUCT
(ProductID INTEGER IDENTITY(1,1) primary key,
ProductCategoryID INTEGER FOREIGN KEY REFERENCES tblPRODUCT_CATEGORY (ProductCategoryID) NOT NULL,
UnitPrice Numeric(5,2) NOT NULL,
SKU Varchar(20) NOT NULL,
ProductName Varchar(20) NOT NULL)

CREATE TABLE tblCUSTOMER_PHONE
(CustomerPhoneID INTEGER IDENTITY(1,1) primary key,
CustomerID INTEGER FOREIGN KEY REFERENCES tblCUSTOMER (CustomerID) NOT NULL,
AreaCode INT NOT NULL,
PhoneNumber VARCHAR(22) Not Null)

CREATE TABLE tblORDER
(OrderID INTEGER IDENTITY(1,1) primary key,
CustomerID INTEGER FOREIGN KEY REFERENCES tblCUSTOMER (CustomerID) NOT NULL,
OrderDate DATE NOT NULL)

CREATE TABLE tblORDER_PRODUCT
(OrderProductID INTEGER IDENTITY(1,1) primary key,
ProductID INTEGER FOREIGN KEY REFERENCES tblPRODUCT (ProductID) NOT NULL,
OrderID INTEGER FOREIGN KEY REFERENCES tblORDER (OrderID) NOT NULL,
Quantity INT NOT NULL)

CREATE TABLE tblPRODUCT_COLOR
(ColorProductID INTEGER IDENTITY(1,1) primary key,
ColorID INTEGER FOREIGN KEY REFERENCES tblCOLOR (ColorID) NOT NULL,
ProductID INTEGER FOREIGN KEY REFERENCES tblPRODUCT (ProductID) NOT NULL)

CREATE TABLE tblPRODUCT_SIZE
(SizeProductID INTEGER IDENTITY(1,1) primary key,
SizeID INTEGER FOREIGN KEY REFERENCES tblSIZE (SizeID) NOT NULL,
ProductID INTEGER FOREIGN KEY REFERENCES tblPRODUCT (ProductID) NOT NULL)

CREATE TABLE tblPURCHASE_ORDER
(PurchaseOrderID INTEGER IDENTITY(1,1) primary key,
SupplierID INTEGER FOREIGN KEY REFERENCES tblSUPPLIER (SupplierID) NOT NULL,
PurchaseDate DATE NOT NULL,
TotalAmount Numeric(9,2) NOT NULL)

CREATE TABLE tblPURCHASE_ORDER_PRODUCT
(PurchaseOrderProductID INTEGER IDENTITY(1,1) primary key,
PurchaseOrderID INTEGER FOREIGN KEY REFERENCES tblPURCHASE_ORDER (PurchaseOrderID) NOT NULL,
ProductID INTEGER FOREIGN KEY REFERENCES tblPRODUCT (ProductID) NOT NULL,
OrderQuantity INT NOT NULL,
PriceExtd NUMERIC (9,2) not NULL)

CREATE TABLE tblCONTACT
(ContactID INTEGER IDENTITY (1,1) primary key,
RoleID INTEGER FOREIGN KEY REFERENCES tblROLE (RoleID) NOT NULL,
SupplierID INTEGER FOREIGN KEY REFERENCES tblSUPPLIER (SupplierID) NOT NULL,
ContactFName VARCHAR(20) NOT NULL,
ContactLName VARCHAR(20) NOT NULL,
ContactEmail VARCHAR(50) NOT NULL)

CREATE TABLE tblSUPPLIER_

(PhoneID INTEGER IDENTITY (1,1) primary key,
PhoneTypeID INTEGER FOREIGN KEY REFERENCES tblPHONE_TYPE (PhoneTypeID) NOT NULL,
ContactID INTEGER FOREIGN KEY REFERENCES tblCONTACT (ContactID) NOT NULL,
PhoneName VARCHAR(50) NOT NULL,
AreaCode INT NOT NULL,
PhoneNumber VARCHAR(22) Not Null,
PhoneDescr VARCHAR(255) NULL)

CREATE TABLE tblSUPPLIER_CART
(SupplierCartID INTEGER IDENTITY(1,1) primary key,
SupplierID INTEGER FOREIGN KEY REFERENCES tblSUPPLIER (SupplierID) NOT NULL,
ProductID INTEGER FOREIGN KEY REFERENCES tblPRODUCT (ProductID) NOT NULL,
Quantity INT NOT NULL,
CartDate DATE NOT NULL)

CREATE TABLE tblCUSTOMER_CART
(CustomerCartID INTEGER IDENTITY(1,1) primary key,
CustomerID INTEGER FOREIGN KEY REFERENCES tblCUSTOMER (CustomerID) NOT NULL,
ProductID INTEGER FOREIGN KEY REFERENCES tblPRODUCT (ProductID) NOT NULL,
Quantity INT NOT NULL,
CartDate DATE NOT NULL)
